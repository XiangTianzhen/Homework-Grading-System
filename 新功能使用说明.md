# 校园试卷自动判分系统 - 新功能使用说明

## 🎯 新添加的功能

### 1. 题目区域框选功能
**位置**: 主界面点击"区域框选"按钮
**功能**: 
- 在试卷图片上拖拽框选每道题目的答题区域
- 支持添加多个框选区域
- 可以删除已框选的区域
- OCR识别时只识别框选区域内的文字

**使用方法**:
1. 上传试卷图片
2. 点击"区域框选"按钮
3. 在图片上拖拽选择题目区域
4. 点击"保存"完成框选
5. 进行OCR识别时，系统只识别框选区域内的答案

### 2. 批量上传功能
**位置**: 主界面点击"批量上传"按钮
**功能**:
- 一次性上传多张试卷图片
- 自动批量处理所有上传的图片
- 显示每个文件的处理结果
- 支持拖拽和选择文件两种方式

**使用方法**:
1. 点击"批量上传"按钮
2. 拖拽多张图片到上传区域，或点击"选择多张图片"
3. 点击"批量上传"开始处理
4. 查看处理结果，成功/失败状态一目了然

### 3. 错题本功能
**位置**: 主界面点击"错题本"按钮，或在评分结果中点击"添加到错题本"
**功能**:
- 自动收集评分错误的题目
- 支持添加错题分析和笔记
- 可以搜索和管理错题
- 支持导出错题本为文本文件

**使用方法**:
1. 在评分结果页面，点击错误题目下的"添加到错题本"
2. 点击"错题本"按钮查看所有错题
3. 点击错题可以添加分析笔记
4. 使用搜索功能快速找到特定错题
5. 点击"导出"按钮下载错题本

### 4. 历史记录功能
**位置**: 主界面点击"历史记录"按钮
**功能**:
- 自动保存每次评分的历史记录
- 显示文件名、评分、时间等详细信息
- 支持按文件名和日期搜索
- 可以重新评分历史记录
- 支持导出单个评分结果

**使用方法**:
1. 每次评分完成后，系统会自动保存到历史记录
2. 点击"历史记录"按钮查看所有评分历史
3. 使用搜索框按文件名或日期查找
4. 点击具体记录查看详细信息
5. 点击"重新评分"可以再次处理

### 5. 题型设置功能
**位置**: 主界面点击"题型设置"按钮
**功能**:
- 支持选择题、填空题、问答题三种题型
- 每种题型可以设置不同的评分规则
- 选择题可以设置选项和正确答案
- 填空题可以设置多个空和对应答案
- 问答题支持关键词匹配评分

**使用方法**:
1. 点击"题型设置"按钮
2. 选择要设置的题型（选择/填空/问答）
3. 根据题型特点配置评分规则
4. 点击"保存配置"应用设置

## 🚀 技术架构

### 前端技术
- **框架**: Vue 3 + Vite
- **UI组件**: 自定义组件 + CSS3
- **状态管理**: Vue响应式系统
- **数据存储**: localStorage本地存储

### 后端技术
- **框架**: Node.js + Express
- **OCR服务**: 百度OCR API
- **文件处理**: Multer中间件
- **日志系统**: 自定义日志工具

### 新增API端点
- `POST /api/ocr/areas` - 区域OCR识别
- `POST /api/batch` - 批量处理试卷

## 📋 使用建议

1. **区域框选**: 对于格式统一的试卷，建议先框选区域再识别，准确率更高
2. **批量处理**: 适用于处理整个班级的试卷，提高效率
3. **错题本**: 定期导出和分析错题，帮助学生针对性复习
4. **历史记录**: 利用搜索功能快速找到特定学生的评分记录
5. **题型设置**: 根据实际试卷题型配置相应的评分规则

## 🔧 注意事项

1. 确保已正确配置百度OCR API密钥
2. 上传的图片建议清晰度在300DPI以上
3. 手写答案尽量工整，避免连笔字
4. 批量上传时建议一次不超过20张图片
5. 定期清理历史记录，避免浏览器存储空间不足

## 📞 支持与反馈

如有问题或建议，请通过以下方式反馈：
- 在GitHub仓库提交Issue
- 查看日志文件了解详细错误信息
- 确保前后端服务正常运行

---

**版本**: v2.0  
**更新日期**: 2025年1月15日  
**作者**: 想天真